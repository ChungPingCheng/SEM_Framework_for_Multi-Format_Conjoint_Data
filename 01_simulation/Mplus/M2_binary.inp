TITLE: Binary yes/no model (threshold; loadings fixed by design)

DATA:
  FILE = binary_data.txt;

VARIABLE:
  NAMES = B1 B2 B3 B4;
  USEVARIABLES = B1 B2 B3 B4;
  CATEGORICAL = B1 B2 B3 B4;

ANALYSIS:
  ESTIMATOR = WLSMV;
  PARAMETERIZATION = THETA;

MODEL:
  ! Part-worth factors (first layer)
  f0 BY B1@1 B2@1 B3@1 B4@1;               ! baseline (+1 on all)
  f1 BY B1@-1 B2@ 1 B3@-1 B4@ 1;           ! attribute 1 pattern
  f2 BY B1@-1 B2@-1 B3@ 1 B4@ 1;           ! attribute 2 pattern

  ! Threshold identification: free tau, set baseline mean = 0
  [B1$1 B2$1 B3$1 B4$1] (tau);              ! common threshold (can be freely estimated)
  [f0@0 f1 f2];                             ! baseline mean fixed to 0, others free

  f1@1;                                     ! fix at least one variance
  f0 f2; f1 WITH f2; f0 WITH f1; f0 WITH f2;

OUTPUT:
  SAMPSTAT STANDARDIZED RESIDUAL TECH1 TECH4;
